<!doctype html>

<html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta name="keywords" content="Spongebob, meme generator, meme, mock">
    <meta name="author" content="Dennis Kats">
    <title>Mocking Spongebob Generator</title>

    <!-- Stylesheets -->
    <link href="./css/styles.css" rel="stylesheet" type="text/css" />
    <!-- Manifest file for PWA -->
    <link rel="manifest" href="./manifest.json">

    <!-- Math support-->
    <script type="text/javascript" id="MathJax-script" async
        src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
    <!-- Offline PWA support -->
    <script type="text/javascript" async src="./js/sw-registrator.js"></script>

    <!-- Shared object across scripts for website -->
    <script type="text/javascript" src="./js/sharedWebsiteObj.js"></script>
    <!-- Darkmode library-->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/darkmode-js@1.5.5/lib/darkmode-js.min.js"></script>

    <!-- Darkmode support -->
    <script type="text/javascript" defer src="./js/darkmode.js"></script>
    <!-- Camera support -->
    <script type="text/javascript" defer src="./js/camera.js"></script>
    <!-- Website controller-->
    <script type="text/javascript" defer src="./js/controller.js"></script>
    <!-- Error box display controller-->
    <script type="text/javascript" defer src="./js/errorDisplay.js"></script>
    <!-- Math support -->
    <script type="text/javascript" defer src="./js/math.js"></script>

    <!-- generic icon -->
    <link rel="icon" href="./img/icon.png" />
    <!-- Android icon -->
    <link rel="shortcut icon" href="./img/icon-144.png" sizes="144x144">
    <!-- iOS icons-->
    <link rel="apple-touch-icon" href="./img/apple_app_icon.png" sizes="144x144">
</head>

<body>
    <div class="box">
        <h1 id="title">Mocking Spongebob Meme Generator</h1>

        <span id="modeRadios">
            <label for="captionRadio">
                <input class="darkmode-ignore" id="captionRadio" name="mode" type="radio" value="captionLabel"
                    checked="checked" />
                <span>Caption</span>
            </label>
            <label for="imageinRadio">
                <input class="darkmode-ignore" id="imageinRadio" name="mode" type="radio" value="imageinLabel" />
                <span>Image</span>
            </label>
            <label for="mathinRadio">
                <span id="mathinRadioSpan" class="invisible">
                    <input class="darkmode-ignore" id="mathinRadio" name="mode" type="radio" value="mathinLabel" />
                    Math
                </span>
            </label>
        </span>
        <br />
        <br />
        <form>
            <label id="captionLabel" class="inputField" for="caption">
                <span>Caption:</span>
                <input id="caption" class="darkmode-ignore" type="text" placeholder="aDd A cApTiOn...">
            </label>
            <div id="imageinLabel" class="inputField" style="display: none;">
                <label for="imagein">
                    <span>Image:</span>
                    <input id="imagein" type="file" accept="image/*" />
                </label>
                <img id="camera--toggle" class="icon invisible" title="Toggle camera" src="./img/camera-icon.png"
                    alt="camera toggle" onContextMenu="return false;" />
            </div>
            <label id="mathinLabel" class="inputField" for="mathin" style="display: none;">
                <span>Math:</span>
                <input id="mathin" class="darkmode-ignore" type="text" placeholder="aDd SoMe TeX..." />
            </label>
        </form>
        <br />
        <div id="views">
            <canvas id="output" width="500" height="350"></canvas>
            <img id="meme" src="./img/background.jpg" alt="spongebob meme" class="invisible" />
            <img id="upload" src="" style="display: none;" crossorigin="anonymous" />
            <img id="mirror" src="./img/background.jpg" alt="spongebob meme" />

            <!-- Camera App -->
            <div id="cameraApp" style="display: none;">
                <!-- Camera sensor -->
                <canvas id="camera--sensor" class="invisible"></canvas>

                <!-- Frame for containing camera functionality-->
                <div id="camera--frame">
                    <!-- Camera view -->
                    <video id="camera--view" class="darkmode-ignore" width="500" height="350" autoplay muted
                        playsinline>
                    </video>
                    <!-- Take picture trigger -->
                    <img id="camera--trigger" src="img/camera-trigger.png" title="Take picture"
                        onContextMenu="return false;">
                    <!-- Flip camera trigger -->
                    <img id="camera--flip" src="img/camera-flip.png" title="Flip camera" onContextMenu="return false;">
                </div>
            </div>
        </div>

        <div class="btn-group btn-primary">
            <button class="btn darkmode-ignore" id="cpy-text-btn" title="Copy the mocking form of the text">Copy Mocking
                Text</button>
            <button class="btn darkmode-ignore" id="cpy-link-btn"
                title="Copy the link for this meme to your clipboard">Copy Link</button>
            <button class="btn darkmode-ignore" id="sv-btn" title="Save this image to your local files">Save
                Image</button>
            <a id="sv-link" href="./img/background.jpg" download="img.png">Save Image</a>
        </div>
        <div class="darkmode-ignore" id="note">
            <p>
                Note: Link copying is supported for caption and math memes only.
            </p>
            <p>
                You can save the image also by right clicking (holding down on mobile) on the image.
            </p>
        </div>
        <p>Made by Dennis Kats <br /> for his friends</p>
    </div>
    <div id="errorBox" style="display: none;">
        <div id="errorBoxMessage">
            There was an issue loading in the requested image. Make sure you have the correct permissions for that
            image.
        </div>
        <button id="errorCloseButton">&times</button>
    </div>
</body>

</html>